# 变更提案: 五子棋双人对战

## 需求背景
项目当前无实际实现，需要构建一个单页五子棋双人对战应用，支持 15×15 棋盘、胜负弹窗提示与重新开始，并以拟物风格呈现。

## 产品分析

### 目标用户与场景
- **用户群体:** 线下同屏的休闲玩家
- **使用场景:** 1920×1080 桌面环境（最低 1280 宽度）
- **核心痛点:** 需要即开即玩、无需登录、规则清晰

### 价值主张与成功指标
- **价值主张:** 简单、真实、即时的本地对战体验
- **成功指标:** 胜负判定准确；回合提示与弹窗提示稳定；拟物风格清晰可读

### 人文关怀
不收集用户数据，不干扰式提示，保持低学习成本与可读性。

## 变更内容
1. 初始化 Vue2.7 + Pinia 的单页项目结构
2. Canvas 绘制棋盘与棋子，支持落子与胜负判定
3. 拟物风格界面与按钮交互（木纹棋盘、棋子材质、阴影层次）

## 影响范围
- **模块:** ui-board, game-core, state-store
- **文件:** `package.json`, `vite.config.js`, `index.html`, `src/main.js`, `src/App.vue`, `src/components/*`, `src/stores/*`, `src/utils/*`, `src/assets/*`
- **API:** 无
- **数据:** 前端内存状态

## 核心场景

### 需求: 对战落子
**模块:** ui-board
玩家轮流落子，点击空格落子成功。

#### 场景: 玩家落子
前置条件: 当前回合玩家点击空格
- 成功落子并切换回合
- 若胜利则进入胜负状态

### 需求: 胜负判定与弹窗提示
**模块:** game-core
检测任意方向连续五子（长连有效）。

#### 场景: 形成连五
前置条件: 玩家落子后任一方向连续 ≥ 5
- 判定获胜玩家
- 弹窗提示胜负

### 需求: 重新开始
**模块:** state-store
允许玩家重置棋盘并重新开始。

#### 场景: 重新开始
前置条件: 用户点击“重新开始”
- 棋盘清空
- 胜负状态清空
- 回合重置为黑子

### 需求: 当前回合显示
**模块:** ui-board
界面展示当前回合玩家。

#### 场景: 回合切换
前置条件: 玩家成功落子
- 提示当前回合玩家切换

## 风险评估
- **风险:** Canvas 坐标换算不准导致落子偏移
- **缓解:** 统一使用棋盘内边距与单元格尺寸计算，并在高 DPI 设备上按比例缩放
- **风险:** 拟物纹理影响文字可读性
- **缓解:** 保持文字对比度与浅阴影，限制纹理强度
