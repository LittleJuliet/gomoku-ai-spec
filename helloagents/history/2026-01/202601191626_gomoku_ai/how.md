# 技术设计: 人机对战

## 技术方案

### 核心技术
- Vue 3 / Pinia / Canvas
- AI 引擎: Minimax + Alpha-Beta + 启发式评分 + 候选点剪枝

### 实现要点
- 新增 `src/utils/ai.js`: 候选点生成、局面评分、时间预算搜索
- 状态层新增对战模式与结果类型（胜负/平局），封装人机回合切换
- AI 优先处理必胜与必防局面，评分函数覆盖活四/冲四/活三等模式
- 计算预算 ≤ 500ms，超时回退到当前最优候选

## 架构设计
无新增后端或持久化模块，前端新增 AI 引擎工具模块。

## 架构决策 ADR

### ADR-001: 选择 Minimax + Alpha-Beta 的 AI 方案
**上下文:** 需要高强度 AI 且响应时间 ≤ 500ms
**决策:** 采用 Minimax + Alpha-Beta 剪枝，搭配候选点剪枝与启发式评分
**理由:** 相比纯启发式更具对抗性，剪枝可控性能
**替代方案:** 纯启发式评分 → 拒绝原因: 强度不足且易被简单战术击败
**影响:** 需要控制搜索深度与候选点数量，避免主线程卡顿

## API设计
无

## 数据模型
无

## 安全与性能
- **安全:** 本地运行，无外部输入与敏感信息处理
- **性能:** 候选点限制、Alpha-Beta 剪枝、时间预算 ≤ 500ms，必要时降级为启发式

## 测试与部署
- **测试:** 手动验证人机对战、双人对战、胜负与平局、模式切换文案
- **部署:** 无额外流程
