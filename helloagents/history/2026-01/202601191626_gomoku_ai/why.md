# 变更提案: 人机对战

## 需求背景
现有版本仅支持本地双人对战，单人体验不足。新增人机对战并设为默认模式，让玩家在无对手时也能游玩，同时保持双人模式可用。

## 产品分析

### 目标用户与场景
- **用户群体:** 喜爱休闲棋类的单人玩家与希望练习对局的玩家
- **使用场景:** 随时开局练习/消遣，或在无对手时进行对战
- **核心痛点:** 只能双人对战，单人无法开始对局

### 价值主张与成功指标
- **价值主张:** 随时可与高强度 AI 对战，提升可玩性与练习价值
- **成功指标:** 默认人机模式可用；AI 落子 ≤ 500ms；对局结果准确（胜负/平局）；文案区分玩家与电脑

### 人文关怀
AI 强度保持“高”，同时提供清晰提示与模式切换，避免过度挫败。

## 变更内容
1. 新增人机对战模式并设为默认，玩家执黑、电脑执白
2. 引入高强度 AI 决策（Minimax + AlphaBeta + 启发式评分）
3. 支持满盘无胜负判平局
4. 更新页面文案与状态提示，提供模式切换入口

## 影响范围
- **模块:** ui-board / state-store / game-core / ai-engine（新增）
- **文件:**
  - src/utils/ai.js
  - src/stores/game.js
  - src/components/BoardCanvas.vue
  - src/App.vue
  - src/components/StatusBar.vue
  - src/components/WinnerModal.vue
- **API:** 无
- **数据:** 无

## 核心场景

### 需求: 人机对战模式
**模块:** state-store / ui-board / ai-engine
提供人机对战模式，默认启用，玩家执黑、电脑执白，AI 强度为“高”。

#### 场景: 玩家落子后AI立即回应
前置条件: 当前模式为人机，玩家落子成功且未分胜负
- AI 在 500ms 内落子并切换回玩家回合
- 若 AI 形成胜负则结束对局并提示结果

### 需求: 平局判定
**模块:** state-store
当棋盘已满且无胜者时，判定为平局。

#### 场景: 棋盘落满
前置条件: 棋盘已满且无胜者
- 对局结果设为平局
- UI 显示平局提示

### 需求: 模式切换与文案更新
**模块:** ui-board
支持人机/双人模式切换并更新文案，确保状态提示区分玩家与电脑。

#### 场景: 切换对战模式
前置条件: 用户切换对战模式
- 立即重置对局，默认黑子先手
- 文案同步显示当前模式与玩家/电脑称谓

## 风险评估
- **风险:** AI 搜索过深导致主线程卡顿
- **缓解:** 限制候选点数量、使用 Alpha-Beta 剪枝与时间预算（≤500ms）
